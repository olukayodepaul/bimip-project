defmodule ProtoTest do
  def test() do
    binary =
      "
08 0A 52 84 05 08 06 1A 7D 0A 01 31 12 01 31 1A
01 31 22 16 0A 0C 61 40 64 6F 6D 61 69 6E 2E 63
6F 6D 12 06 61 61 61 61 61 31 2A 16 0A 0C 62 40
64 6F 6D 61 69 6E 2E 63 6F 6D 12 06 62 62 62 62
62 31 30 01 38 81 A4 8A B2 A5 33 42 31 7B 22 74
65 78 74 22 3A 22 48 65 6C 6C 6F 20 66 72 6F 6D
20 42 49 4D 49 50 20 F0 9F 91 8B 22 2C 22 61 74
74 61 63 68 6D 65 6E 74 73 22 3A 5B 5D 7D 4A 04
6E 6F 6E 65 60 01 1A 7D 0A 01 31 12 01 32 1A 01
32 22 16 0A 0C 61 40 64 6F 6D 61 69 6E 2E 63 6F
6D 12 06 61 61 61 61 61 31 2A 16 0A 0C 62 40 64
6F 6D 61 69 6E 2E 63 6F 6D 12 06 62 62 62 62 62
31 30 01 38 81 A4 8A B2 A5 33 42 31 7B 22 74 65
78 74 22 3A 22 48 65 6C 6C 6F 20 66 72 6F 6D 20
42 49 4D 49 50 20 F0 9F 91 8B 22 2C 22 61 74 74
61 63 68 6D 65 6E 74 73 22 3A 5B 5D 7D 4A 04 6E
6F 6E 65 60 01 1A 7D 0A 01 31 12 01 33 1A 01 33
22 16 0A 0C 61 40 64 6F 6D 61 69 6E 2E 63 6F 6D
12 06 61 61 61 61 61 31 2A 16 0A 0C 62 40 64 6F
6D 61 69 6E 2E 63 6F 6D 12 06 62 62 62 62 62 31
30 01 38 81 A4 8A B2 A5 33 42 31 7B 22 74 65 78
74 22 3A 22 48 65 6C 6C 6F 20 66 72 6F 6D 20 42
49 4D 49 50 20 F0 9F 91 8B 22 2C 22 61 74 74 61
63 68 6D 65 6E 74 73 22 3A 5B 5D 7D 4A 04 6E 6F
6E 65 60 01 1A 7D 0A 01 31 12 01 34 1A 01 34 22
16 0A 0C 61 40 64 6F 6D 61 69 6E 2E 63 6F 6D 12
06 61 61 61 61 61 31 2A 16 0A 0C 62 40 64 6F 6D
61 69 6E 2E 63 6F 6D 12 06 62 62 62 62 62 31 30
01 38 81 A4 8A B2 A5 33 42 31 7B 22 74 65 78 74
22 3A 22 48 65 6C 6C 6F 20 66 72 6F 6D 20 42 49
4D 49 50 20 F0 9F 91 8B 22 2C 22 61 74 74 61 63
68 6D 65 6E 74 73 22 3A 5B 5D 7D 4A 04 6E 6F 6E
65 60 01 1A 7D 0A 01 31 12 01 35 1A 01 35 22 16
0A 0C 61 40 64 6F 6D 61 69 6E 2E 63 6F 6D 12 06
61 61 61 61 61 31 2A 16 0A 0C 62 40 64 6F 6D 61
69 6E 2E 63 6F 6D 12 06 62 62 62 62 62 31 30 01
38 81 A4 8A B2 A5 33 42 31 7B 22 74 65 78 74 22
3A 22 48 65 6C 6C 6F 20 66 72 6F 6D 20 42 49 4D
49 50 20 F0 9F 91 8B 22 2C 22 61 74 74 61 63 68
6D 65 6E 74 73 22 3A 5B 5D 7D 4A 04 6E 6F 6E 65
60 01 20 81 A4 8A B2 A5 33

      "
      |> String.split()
      |> Enum.map(&String.to_integer(&1, 16))
      |> :binary.list_to_bin()

    # Decode with MessageScheme|>
    message = Bimip.MessageScheme.decode(binary) 
    IO.inspect(message, label: "")

  end
end

# ProtoTest.test()